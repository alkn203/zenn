---
title: "phina.jsã®ã‚³ã‚¢ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã¿ã‚ˆã†ã€€ãƒ¼Arrayç·¨ãƒ¼"
emoji: "ğŸ“š"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["phina","javascript","html5"]
published: false
---

## ã¯ã˜ã‚ã«
[phina.js](https://phinajs.com/)ã¯ã€å›½ç”£ã® **javascript** ã‚²ãƒ¼ãƒ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚
ã‚²ãƒ¼ãƒ è£½ä½œå‘ã‘ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã®ã§ã€ã‚²ãƒ¼ãƒ è£½ä½œã‚’å‰æã¨ã—ãŸæ©Ÿèƒ½ãŒå……å®Ÿã—ã¦ã„ã¾ã™ãŒã€åŠ ãˆã¦**javascript** ã§ã®ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ã‚ˆã‚Šå¿«é©ã«ã™ã‚‹ãŸã‚ã®ç´°ã‹ãªé…æ…®ãŒã•ã‚Œã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã‚‚ã‚ã‚Šã¾ã™ã€‚ãã®ä¾‹ã¨ã—ã¦ã€ä»Šå›ã¯ã€**javascript** ã®åŸºæœ¬ã‚¯ãƒ©ã‚¹ã§ã‚ã‚‹ **Array** ã®æ‹¡å¼µãƒ¡ã‚½ãƒƒãƒ‰ç¾¤ã‚’ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚

## æ‹¡å¼µArrayã‚¯ãƒ©ã‚¹
**phina.js** ã§ã¯ã€å…ƒã€…ã® **javascript** ã®**Array**ã‚¯ãƒ©ã‚¹ã«æ§˜ã€…ãªæ‹¡å¼µãƒ¡ã‚½ãƒƒãƒ‰ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚
ä»¥ä¸‹ã«ã€ä½¿ã†æ©Ÿä¼šãŒå¤šã„ã ã‚ã†ã¨æ€ã‚ã‚Œã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

### first
é…åˆ—ã®æœ€åˆã®è¦ç´ ã‚’è¿”ã—ã¾ã™ã€‚

### last
é…åˆ—ã®æœ€å¾Œã®è¦ç´ ã‚’è¿”ã—ã¾ã™ã€‚

```js
var arr = [1,2,3];
arr.first; // => 1
arr.last; // => 3
```
ã“ã‚Œã‚‰ã¯ã€ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã„ã†ã‚ˆã‚Šã‚‚ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã™ã€‚

### contains
æŒ‡å®šã•ã‚ŒãŸè¦ç´ ãŒé…åˆ—ã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’èª¿ã¹ã¾ã™ã€‚

```js
var arr = [1,2,3];
arr.contains(1); // => true
```

### swap
æŒ‡å®šã•ã‚ŒãŸã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®è¦ç´ ã‚’å…¥ã‚Œæ›¿ãˆã¾ã™ã€‚

```js
var arr = ['a','b','c'];
arr.swap(0,1); // => arr = ['b','a','c']
```

### eraseIf
å¼•æ•°ã§ä¸ãˆã‚‰ã‚ŒãŸã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã®æ¡ä»¶ã«ä¸€è‡´ã™ã‚‹æœ€åˆã®è¦ç´ ã‚’å‰Šé™¤ã—ã¾ã™ã€‚

```js
var arr = [1,2,3];
arr.eraseIf(function(elem) {
  if (elem > 1) {
    return true;
  }
}; // => arr = [1,3]
```

### eraseIfAll
å¼•æ•°ã§ä¸ãˆã‚‰ã‚ŒãŸã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ã®æ¡ä»¶ã«ä¸€è‡´ã™ã‚‹è¦ç´ ã‚’å…¨ã¦å‰Šé™¤ã—ã¾ã™ã€‚

```js
var arr = [1,2,3];
arr.eraseIf(function(elem) {
  if (elem > 1) {
    return true;
  }
}; // => arr = [1]
```

### random
é…åˆ—ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ãªè¦ç´ ã‚’ï¼‘ã¤è¿”ã—ã¾ã™ã€‚

```js
var arr [1,2,3];
arr.random(); // => random value in 1,2,3
```

### uniq
é…åˆ—ã‹ã‚‰é‡è¤‡ã—ãŸå€¤ã‚’é™¤ã„ãŸæ–°ã—ã„é…åˆ—ã‚’è¿”ã—ã¾ã™ã€‚

```js
var arr = [1,2,2,3,4,4,5];
arr.uniq() => [1,2,3,4,5]
```

### clear
é…åˆ—ã®è¦ç´ ã‚’å…¨ã¦å‰Šé™¤ã—ã¾ã™ã€‚

```js
var arr = [1,2,3];
arr.clear(); //=> []
```

   * @method equals
   * æ¸¡ã•ã‚ŒãŸé…åˆ—ã¨ç­‰ã—ã„ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚
   * @method deepEquals
   * ãƒã‚¹ãƒˆã•ã‚Œã¦ã„ã‚‹é…åˆ—ã‚’å«ã‚ã€æ¸¡ã•ã‚ŒãŸé…åˆ—ã¨ç­‰ã—ã„ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚
   * @method at
   * æŒ‡å®šã—ãŸã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®è¦ç´ ã‚’è¿”ã—ã¾ã™ï¼ˆãƒ«ãƒ¼ãƒ—ãƒ»è² æ•°ã®æŒ‡å®šå¯ï¼‰ã€‚
   * @method find
   * å„è¦ç´ ã‚’å¼•æ•°ã«ã—ã¦é–¢æ•°ã‚’å®Ÿè¡Œã—ã€ãã®å€¤ãŒçœŸã¨ãªã‚‹ï¼ˆï¼æ¡ä»¶ã«ãƒãƒƒãƒã™ã‚‹ï¼‰æœ€åˆã®è¦ç´ ã‚’è¿”ã—ã¾ã™ã€‚
   * @method findIndex
   * å„è¦ç´ ã‚’å¼•æ•°ã«ã—ã¦é–¢æ•°ã‚’å®Ÿè¡Œã—ã€ãã®å€¤ãŒçœŸã¨ãªã‚‹ï¼ˆï¼æ¡ä»¶ã«ãƒãƒƒãƒã™ã‚‹ï¼‰æœ€åˆã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’è¿”ã—ã¾ã™ã€‚
   * @method erase
   * æŒ‡å®šã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ä¸€è‡´ã—ãŸæœ€åˆã®è¦ç´ ã‚’å‰Šé™¤ã—ã¾ã™ã€‚
   * @method eraseAll
   * æŒ‡å®šã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ä¸€è‡´ã—ãŸã™ã¹ã¦ã®è¦ç´ ã‚’å‰Šé™¤ã—ã¾ã™ã€‚
   * @method clone
   * è‡ªèº«ã®ã‚³ãƒ”ãƒ¼ã‚’ç”Ÿæˆã—ã¦è¿”ã—ã¾ã™ã€‚
  
  /**
   * @method fill
   * @chainable
   * è‡ªèº«ã®ä¸€éƒ¨ã®è¦ç´ ã‚’ç‰¹å®šã®å€¤ã§åŸ‹ã‚ã¾ã™ã€‚
   *
   * ### Example
   *     arr = [1, 2, 3, 4, 5];
   *     arr.fill("x");       // => ["x", "x", "x", "x", "x"]
   *     arr.fill("x", 2, 4); // => [1, 2, "x", "x", 5]
   *
   * @param {Object} value åŸ‹ã‚ã‚‹å€¤
   * @param {Number} [start=0] å€¤ã‚’åŸ‹ã‚ã‚‹æœ€åˆã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
   * @param {Number} [end=è‡ªèº«ã®é…åˆ—ã®é•·ã•] å€¤ã‚’åŸ‹ã‚ã‚‹æœ€å¾Œã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹+1
   */
  Array.prototype.$method("fill", function(value, start, end) {
    start = start || 0;
    end   = end   || (this.length);
    
    for (var i=start; i<end; ++i) {
      this[i] = value;
    }
    
    return this;
  });
  

  /**
   * @method range
   * @chainable
   * è‡ªèº«ã‚’ç­‰å·®æ•°åˆ—ï¼ˆä¸€å®šé–“éš”ã®æ•´æ•°å€¤ã®åˆ—ï¼‰ã¨ã—ã¾ã™ã€‚
   *
   * - å¼•æ•°ãŒ1ã¤ã®å ´åˆã€0ï½endï¼ˆendå«ã¾ãšï¼‰ã®æ•´æ•°ã®é…åˆ—ã§ã™ã€‚  
   * - å¼•æ•°ãŒ2ã¤ã®å ´åˆã€startï½endï¼ˆendå«ã¾ãšï¼‰ã®æ•´æ•°ã®é…åˆ—ã§ã™ã€‚  
   * - å¼•æ•°ãŒ3ã¤ã®å ´åˆã€startï½endï¼ˆendå«ã¾ãšï¼‰ã‹ã¤ start + n * step (nã¯æ•´æ•°)ã‚’æº€ãŸã™æ•´æ•°ã®é…åˆ—ã§ã™ã€‚
   *
   * ### Example
   *     arr = [];
   *     arr.range(4);        // => [0, 1, 2, 3]
   *     arr.range(2, 5);     // => [2, 3, 4]
   *     arr.range(2, 14, 5); // => [2, 7, 12]
   *     arr.range(2, -3);    // => [2, 1, 0, -1, -2]
   *
   * @param {Number} start æœ€åˆã®å€¤ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ 0ï¼‰
   * @param {Number} end æœ€å¾Œã®å€¤ï¼ˆçœç•¥ä¸å¯ï¼‰
   * @param {Number} [step=1ã¾ãŸã¯-1] é–“éš”
   */
  Array.prototype.$method("range", function(start, end, step) {
    this.clear();
    
    if (arguments.length == 1) {
      for (var i=0; i<start; ++i) this[i] = i;
    }
    else if (start < end) {
      step = step || 1;
      if (step > 0) {
        for (var i=start, index=0; i<end; i+=step, ++index) {
          this[index] = i;
        }
      }
    }
    else {
      step = step || -1;
      if (step < 0) {
        for (var i=start, index=0; i>end; i+=step, ++index) {
          this[index] = i;
        }
      }
    }
    
    return this;
  });
  
  /**
   * @method shuffle
   * @chainable
   * è‡ªèº«ã®è¦ç´ ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã¾ã™ã€‚
   *
   * ### Example
   *     arr = [1, 2, 3, 4, 5];
   *     arr.shuffle(); // => [5, 1, 4, 2, 3] ãªã©
   */
  Array.prototype.$method("shuffle", function() {
    for (var i=0,len=this.length; i<len; ++i) {
      var j = Math.randint(0, len-1);
      
      if (i != j) {
        this.swap(i, j);
      }
    }
    
    return this;
  });

  /**
   * @method sum
   * è¦ç´ ã®åˆè¨ˆå€¤ã‚’è¿”ã—ã¾ã™ã€‚
   * @method average
   * è¦ç´ ã®å¹³å‡å€¤ã‚’è¿”ã—ã¾ã™ã€‚
   * @method each
   * è¦ç´ ã‚’é †ç•ªã«æ¸¡ã—ãªãŒã‚‰é–¢æ•°ã‚’ç¹°ã‚Šè¿”ã—å®Ÿè¡Œã—ã¾ã™ã€‚
   * @method most
   * æŒ‡å®šã—ãŸé–¢æ•°ã®è¿”ã‚Šå€¤ãŒæœ€å°ã¨ãªã‚‹è¦ç´ ã¨æœ€å¤§ã¨ãªã‚‹è¦ç´ ã‚’ã¾ã¨ã‚ã¦è¿”ã—ã¾ã™ã€‚